<!DOCTYPE html>
<html>
    <head>
        <title>Live-Code-Editor</title>
    </head>
    <link rel="stylesheet" href="editor.css">
    <body>
        <div class="container">
            <h1>Live Code Editor</h1>
            <ul>
                <li><a href="index.html"><button>New</button></a></li>
                <li id="mode"><button ondblclick="whitemode()" onclick="greymode()">Grey Mode</button></li>
                <li><button onclick="run()">Run</button></li>
                <li><button onclick="live()">Live</button></li>
            </ul>
            <a href="index.html"><img src="images/editor-logo.png"></a>
        </div>
        <div class="para">
            <h2>Live Web Code Editor like Codepen</h2>
            <h3>This editor also have live refresh code Button to reflect changes automatically without run button</h3>
        </div>
        <div class="code-editor">
            <div class="left">
                <p>HTML</p>
                <textarea spellcheck="false" id="Html"></textarea>
                <p>CSS</p>
                <textarea spellcheck="false" id="Css"></textarea>
            </div>
            <div class="right">
                <p>JAVSCRIPT</p>
                <textarea spellcheck="false" id="Js"></textarea>
                <p>OUTPUT</p>
                <iframe frameBorder="0" id="Output"></iframe>
            </div>
        </div>
        <script>
            function run(){
                let Html = document.querySelector(".code-editor #Html").value;
                let Css = "<style>"+document.querySelector(".code-editor #Css").value+"</style>";
                let Js = document.querySelector(".code-editor #Js").value;
                let Output = document.querySelector(".code-editor #Output");
                Output.contentDocument.body.innerHTML = Html+Css;
                Output.contentWindow.eval(Js);
            }
            function live(){
                document.querySelector(".code-editor #Html").addEventListener("keyup",run);
                document.querySelector(".code-editor #Css").addEventListener("keyup",run);
                document.querySelector(".code-editor #Js").addEventListener("keyup",run);
            }
            let Html = document.getElementById("Html");
            let Css = document.getElementById("Css");
            let Js = document.getElementById("Js");
            let Output = document.getElementById("Output");
            function greymode(){
                Html.style.backgroundColor = 'grey';
                Css.style.backgroundColor = 'grey';
                Js.style.backgroundColor = 'grey';
                Output.style.backgroundColor = 'grey';
            }
            function whitemode(){
                Html.style.backgroundColor = 'white';
                Css.style.backgroundColor = 'white';
                Js.style.backgroundColor = 'white';
                Output.style.backgroundColor = 'white';
            }
        </script>
    </body>
</html>